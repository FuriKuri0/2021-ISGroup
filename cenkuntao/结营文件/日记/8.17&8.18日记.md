# 8.17&8.18日记

1. 算法可视化的项目已经进入了中期阶段，画面大致的框架都做的七七八八了，就只剩可视化这一块了，前面也提到过这是这次任务的难点，务必攻克。
2. 借助echarts的关系图与3D散点图，数据量小的时候问题基本不大，但数据量上来了之后，出现了这么几个问题
3. 难题：
   1. 为什么在前期学习echarts的过程中，点是可以随着坐标的改变而在画布上面移动，但是到了真实数据的时候，画布中的点是一闪一闪的呢？仔细对比了自己模拟的数据与真实数据，我发现了一个问题，自己模拟的数据中不同时间段的同一个点的id是相同的，而真实数据中的点是按照数据库中的id给出的，因此每一个id都是不相同的，因此无法利用echarts自带的效果，结果就是一闪一闪的，解决方法是后台先把点转换了id再传过来
   2. 因为使用的是关系图，因此某些点之间是会有连线的，而在实际的数据传输过程中，点与点的关系的数据量是最大的，并且这是在前端接收到数据后还需要进一步改变以适用的情况下，但是在用上电关系之后出问题了，有很多不应该有关系的点出现了关系，导致了线密密麻麻，按照树蛙的说法，线只应该出现在距离较近的点之间，而在我的实际情况中，甚至有点会横跨整个画布，特别是在使用了固定点之后，固定点的id用的是abcd而数据库的数据id使用的是数字，但本绝不会有关系的固定点居然与很多点都连上了，这让我一度怀疑是不是echarts的问题，但是看看人家echarts的7w多个点，连线还是照样连，一点问题都没有；我就在想会不会是我在转化点的过程中出现了偏差，因此我打印了转化前的点跟转化后的点，但是我发现并无异样，所有传过来的点都被转化成了相应的起点终点；因此我又在想会不会是因为我一次性把所有的点关系都弄上了之后，在结合不同时间段相同点的id相同，会导致出现多余的连线？因此我换成了每次更换点数据与点关系数据，然后，线直接消失了，只剩下开始时杂乱无章的点，还有一个问题就是这些奇怪的线到最后会形成网格，因此我怀疑这并不是巧合，而是echarts的某个隐藏机制，但我目前尚未得知，值得一提的是在静态图中，只有一个时间段的点，不应该出现的点还是出现了，因此可能并不是一次性渲染所有点关系的原因，此问题悬而未决，待日后再想