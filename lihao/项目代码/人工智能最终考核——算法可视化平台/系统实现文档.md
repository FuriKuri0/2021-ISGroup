# 系统实现文档

## 需求

1. 数据库建表

2. 提供接口，查询数据库，将数据取出返回给前端展示

3. 提供上传数据文件的接口，并通过http请求算法端校验数据文件
4. 部署前后端程序

## 实现

项目主要基于Spring boot、Spring MVC、Mybatis plus框架开发

1. 通过算法名、数据样例、数据密度进行数据表命名，主要分为两类：点集和邻接矩阵集。均采用null进行时间段的分割。
2. * 查询：先查询null记录获取分割点数组，后进行分页查询，以时间段为粒度封装数据。查询慢时考虑使用多线程分配任务查询。
   * 封装：将数据分装成前端要求的格式，如添加标识、将邻接矩阵分割成点间关系数组等。
   * 接口：提供了三种接口（查询全部、查询指定时间段、指定时间段数量平均查询），其中第三个接口是为了在尽量不影响算法过程展示的前提下，解决数据量过大，响应时间过长的问题；采用了抽帧算法，从所有时间段中平均取出指定数量的时间段，即所谓抽帧。

抽帧：

1. 先从总数中排除首尾两个时间段的数据；
2. 总数/目标，并向下取整得到步长
3. 根据步长平均取出指定时间段数量的数据
4. 从取到的数据，随机剔除超出目标值的部分
5. 加回首尾两个时间段的数据



